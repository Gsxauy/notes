<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Js - Map &amp; Set</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.d202f84b.js" as="script"><link rel="preload" href="/assets/js/2.2df5d1b6.js" as="script"><link rel="preload" href="/assets/js/16.0f1f9fd4.js" as="script"><link rel="prefetch" href="/assets/js/10.fc5cbe91.js"><link rel="prefetch" href="/assets/js/11.023a3b16.js"><link rel="prefetch" href="/assets/js/12.8465450b.js"><link rel="prefetch" href="/assets/js/13.c707c42e.js"><link rel="prefetch" href="/assets/js/14.cdaf98f1.js"><link rel="prefetch" href="/assets/js/15.2f9c21c7.js"><link rel="prefetch" href="/assets/js/17.19bbab4f.js"><link rel="prefetch" href="/assets/js/18.7f299ca3.js"><link rel="prefetch" href="/assets/js/19.a6614185.js"><link rel="prefetch" href="/assets/js/20.73452169.js"><link rel="prefetch" href="/assets/js/21.1477a630.js"><link rel="prefetch" href="/assets/js/22.b589f96a.js"><link rel="prefetch" href="/assets/js/23.6967a57e.js"><link rel="prefetch" href="/assets/js/24.cc6ab97a.js"><link rel="prefetch" href="/assets/js/25.06e03f9a.js"><link rel="prefetch" href="/assets/js/26.c2d693cb.js"><link rel="prefetch" href="/assets/js/27.fba7395b.js"><link rel="prefetch" href="/assets/js/28.2a1dbb05.js"><link rel="prefetch" href="/assets/js/3.0ab2436a.js"><link rel="prefetch" href="/assets/js/4.2a5d96fc.js"><link rel="prefetch" href="/assets/js/5.fd255a4a.js"><link rel="prefetch" href="/assets/js/6.66b67ff0.js"><link rel="prefetch" href="/assets/js/7.54dd88b3.js"><link rel="prefetch" href="/assets/js/8.d36ed55e.js"><link rel="prefetch" href="/assets/js/9.e9131e05.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-map-set"><a href="#js-map-set" class="header-anchor">#</a> Js - <code>Map</code> &amp; <code>Set</code></h1> <h2 id="set"><a href="#set" class="header-anchor">#</a> <code>Set</code></h2> <p><strong><code>Set</code> - ä¸èƒ½æœ‰é‡å¤çš„å€¼(å¦‚æœç±»å‹ç›¸åŒ å€¼ç›¸åŒæ˜¯ä¸èƒ½é‡å¤çš„)</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å­—ç¬¦ä¸² å’Œ æ•°å­—ç±»å‹ä¸ä¸€è‡´ é‚£å°±æ˜¯ä¸¤ä¸ª</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(2) {1, &quot;1&quot;}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(3) {1, 2, 3}</span>
</code></pre></div><ul><li><p><strong>ä½†æ˜¯åœ¨å¯¹è±¡é‡Œé¢ å±æ€§ä¼šç»Ÿä¸€è½¬æ¢æˆå­—ç¬¦ä¸²çš„</strong></p> <p>å¦‚æœå¯¹è±¡é‡Œé¢ è°ƒç”¨ çš„æ˜¯å¯¹è±¡ä½œä¸ºå±æ€§å‚ä¸ï¼Œä¼šå°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²æ¥è®¾ç½®ã€‚</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'gl'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">'gl123'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {1: &quot;gl123&quot;}</span>

  <span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token punctuation">{</span>
    obj<span class="token operator">:</span> <span class="token string">'gl'</span><span class="token punctuation">,</span> <span class="token comment">// è¿™é‡Œçš„ obj å’Œ ä¸Šé¢å¯¹è±¡obj æ˜¯ä¸ä¸€æ ·çš„ è¿™é‡Œæ˜¯ å­—ç¬¦ä¸²obj</span>
    <span class="token comment">// å¦‚æœæƒ³ä½¿ç”¨å¯¹è±¡å®šä¹‰å°±æ˜¯</span>
    <span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'gl123'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {obj: &quot;gl&quot;, [object Object]: &quot;gl123&quot;}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">[</span><span class="token string">'[object Object]'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// gl123</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">[</span>obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// gl123 æ˜¯å› ä¸ºå°†å¯¹è±¡å±æ€§ è½¬æ¢æˆäº†å­—ç¬¦ä¸² æ‰€ä»¥è¿™æ ·å¯ä»¥å–åˆ°</span>
</code></pre></div><h2 id="set-å…ƒç´ æ£€æµ‹ä¸ç®¡ç†"><a href="#set-å…ƒç´ æ£€æµ‹ä¸ç®¡ç†" class="header-anchor">#</a> <code>Set</code> å…ƒç´ æ£€æµ‹ä¸ç®¡ç†</h2> <ul><li><p><code>add()</code> - <strong>æ·»åŠ /è®¾ç½® å€¼</strong></p></li> <li><p><code>has()</code> - <strong>åˆ¤æ–­å€¼ï¼Œ æœ‰å°±è¿”å› <code>true</code> æ²¡æœ‰å°± <code>false</code></strong></p></li> <li><p><code>delete()</code> - <strong>åˆ é™¤æŒ‡å®šå€¼ï¼Œåˆ é™¤æˆåŠŸå°± <code>true</code> ï¼Œ æ²¡æœ‰å°± <code>false</code></strong></p></li> <li><p><code>clear()</code> - <strong>æ¸…ç©º <code>set</code> é‡Œé¢çš„å…ƒç´ </strong></p></li> <li><p><code>keys()</code> - <strong>æŸ¥çœ‹é‡Œé¢å…ƒç´ çš„ä¸ªæ•°</strong></p></li> <li><p><code>values()</code> - <strong>å’Œ <code>keys</code> ä¸€æ · ä¹Ÿæ˜¯æŸ¥çœ‹é‡Œé¢å…ƒç´ çš„ä¸ªæ•°</strong></p></li> <li><p><code>entries()</code> - <strong><code>{'1' =&gt; '}</code> è¿”å›çš„å‚æ•°å’Œè¿”å›å€¼æ˜¯åŒä¸€ä¸ªå€¼</strong></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'gl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(2) {&quot;g&quot;, &quot;l&quot;} ä¼šå°†å­—ç¬¦ä¸²å±•å¼€å¤„ç†</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(1) {&quot;l&quot;}</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// SetIterator {&quot;l&quot;} - æŸ¥çœ‹é‡Œé¢çš„å…ƒç´ ä¸ªæ•°</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// SetIterator {&quot;l&quot;} - å’Œ value ä¸€æ · æŸ¥çœ‹å…ƒç´ ä¸ªæ•°</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// SetIterator {&quot;l&quot; =&gt; &quot;l&quot;} - å‚æ•°è¿”å›å€¼æ˜¯åŒä¸€ä¸ªå€¼~</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å½»åº•æ¸…ç©ºå…ƒç´ ~</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(0) {}</span>
</code></pre></div><h2 id="set-ç±»å‹ä¹‹é—´çš„ç›¸äº’è½¬æ¢"><a href="#set-ç±»å‹ä¹‹é—´çš„ç›¸äº’è½¬æ¢" class="header-anchor">#</a> <code>Set</code> - ç±»å‹ä¹‹é—´çš„ç›¸äº’è½¬æ¢</h2> <ul><li><code>Array.form()</code> - è½¬æˆæ•°ç»„ï¼Œåé¢å¯ä»¥å†™ <code>callback</code> å¾ªç¯</li> <li><code>[...set]</code> - è½¬æˆæ•°ç»„ - ç„¶åå¤„ç†å®Œäº‹ä¹‹å - åœ¨ <code>new Set()</code> è½¬æ¢å›æ¥~</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">checkType</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// åˆ¤æ–­ç±»å‹çš„</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (2) [1, 2] - è½¬æ•°ç»„</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkType</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// type [object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2</span>
</code></pre></div><ul><li><strong>åœ¨ <code>Set</code> é‡Œé¢æŸ¥æ‰¾ å°äº5 çš„</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'123456789'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Set(9) {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, â€¦}</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>gl<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å°† gl è½¬æˆæ•°ç»„ç„¶åä½¿ç”¨ æ•°ç»„è¿‡æ»¤</span>
    <span class="token keyword">return</span> item <span class="token operator">&lt;</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(4) {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;}</span>
  <span class="token comment">// ç®€åŒ–æˆä¸€è¡Œ</span>
  gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>gl<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(4) {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;}</span>
</code></pre></div><h3 id="æ•°ç»„-å€ŸåŠ©-set"><a href="#æ•°ç»„-å€ŸåŠ©-set" class="header-anchor">#</a> <code>æ•°ç»„</code> å€ŸåŠ© <code>Set</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 5] - å€ŸåŠ© `Set` å»é‡ ç„¶åè½¬åŒ–æˆæ•°ç»„</span>
</code></pre></div><h2 id="éå†-set-ç±»å‹çš„æ–¹å¼"><a href="#éå†-set-ç±»å‹çš„æ–¹å¼" class="header-anchor">#</a> éå† <code>Set</code> ç±»å‹çš„æ–¹å¼</h2> <p><strong><code>Set</code> çš„ä¸»è¦ç±»å‹ ä»–å°±æ˜¯å”¯ä¸€çš„</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'123456789'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log('item', item); // 1 2 3 4 ...</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// index å€¼</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set Set(9) {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, â€¦} - åŸ Set å¯¹è±¡</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> gl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 4 ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ä½¿ç”¨-set-å¤„ç†-å¹¶é›†-äº¤é›†-å’Œ-å·®é›†"><a href="#ä½¿ç”¨-set-å¤„ç†-å¹¶é›†-äº¤é›†-å’Œ-å·®é›†" class="header-anchor">#</a> ä½¿ç”¨ <code>Set</code> å¤„ç† å¹¶é›† äº¤é›† å’Œ å·®é›†</h2> <ul><li>å¹¶é›†</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(5) {1, 2, 3, 5, 6}</span>
</code></pre></div><ul><li>å·®é›†</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//  {1, 2} - åœ¨ b å…ƒç´ é‡Œé¢ 1å’Œ2 æ˜¯ä¸å­˜åœ¨çš„</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>äº¤é›†</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//  {3} - åœ¨ b å…ƒç´ é‡Œé¢ 3 æ˜¯ å’Œ a å…±åŒå­˜åœ¨çš„</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="weakset-è¯­æ³•ä»‹ç»-å¼±å¼•ç”¨"><a href="#weakset-è¯­æ³•ä»‹ç»-å¼±å¼•ç”¨" class="header-anchor">#</a> <code>WeakSet</code> è¯­æ³•ä»‹ç» - <code>å¼±å¼•ç”¨</code></h2> <p><strong><code>WeakSet</code> ä¹Ÿæ˜¯ä¸èƒ½æœ‰é‡å¤çš„å€¼ - ä½†æ˜¯æœ‰ä¸ªè¦æ±‚å°±æ˜¯å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ ·æ˜¯æŠ¥é”™çš„ è¿™æ ·çš„ç†è§£æ˜¯æ·»åŠ ä¸¤ä¸ª å­—ç¬¦ä¸²çš„å€¼</span>
<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set WeakSet {Array(2)}</span>
<span class="token comment">// ç§»é™¤ä¹Ÿæ˜¯ delete - åˆ¤æ–­ä¹Ÿæ˜¯ has - ğŸ“</span>
<span class="token comment">// å¤§éƒ¨åˆ†å’Œ set æ˜¯å·®ä¸å¤šçš„ - ä¸»è¦åŒºåˆ«å°±æ˜¯é‡Œé¢ä¿å­˜çš„æ˜¯ å¼•ç”¨ç±»å‹ - ğŸ“</span>
</code></pre></div><h2 id="å¼•ç”¨ç±»å‹-çš„-åƒåœ¾å›æ”¶-åŸç†"><a href="#å¼•ç”¨ç±»å‹-çš„-åƒåœ¾å›æ”¶-åŸç†" class="header-anchor">#</a> <code>å¼•ç”¨ç±»å‹</code> çš„ <code>åƒåœ¾å›æ”¶</code> åŸç†</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'gl'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// å¼•ç”¨ +1</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> gl<span class="token punctuation">;</span> <span class="token comment">// å¼•ç”¨ +2</span>
hd <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'gl' } å› ä¸ºå®ƒè¿˜åœ¨å¼•ç”¨ æ‰€ä»¥å¯ä»¥æ‰“å°åˆ°</span>
a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null;</span>
<span class="token comment">// éƒ½ èµ‹ç©º äº†ä¹‹åï¼Œè¿™ä¸ªå¯¹è±¡å°±æ²¡æœ‰å¼•ç”¨äº† å°±ä¼š è¢«ç³»ç»Ÿè‡ªåŠ¨åƒåœ¾å›æ”¶â™»ï¸</span>
</code></pre></div><h2 id="weaksetçš„å¼±å¼•ç”¨ç‰¹æ€§"><a href="#weaksetçš„å¼±å¼•ç”¨ç‰¹æ€§" class="header-anchor">#</a> WeakSetçš„å¼±å¼•ç”¨ç‰¹æ€§</h2> <p><strong><code>å¼±å¼•ç”¨</code> çš„å¥½å¤„å°±æ˜¯ æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨ èµ‹ç©º å¦‚æœæ²¡æœ‰å¼•ç”¨ ç³»ç»Ÿä¼šå¸®åŠ©æˆ‘ä»¬éš”ä¸€æ®µæ—¶é—´æ¸…ç©º</strong></p> <p><strong><code>å¼±å¼•ç”¨</code> å°±æ˜¯ å¾ªç¯éå†çš„æ—¶å€™ ä¼šå‡ºé”™ - æ‰€ä»¥ <code>WeakSet.values() .size for...of forEach</code> éƒ½ä¸èƒ½ä½¿ç”¨</strong></p> <hr> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'gl'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// å¼•ç”¨ +1</span>
<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ ·æ·»åŠ äº†ä¹‹å ç³»ç»Ÿä¸ä¼šä½¿ å¼•ç”¨+1 è¿˜æ˜¯åªå¼•ç”¨äº†ä¸€æ¬¡ - è¿™ç§ç‰¹æ€§å°±æ˜¯ å¼±å¼•ç”¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// WeakSet {{â€¦}} - 0: Object</span>
gl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// å¼•ç”¨æ¸…ç©º å¯¹è±¡å°±è¢«åƒåœ¾å›æ”¶äº†</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// WeakSet {{â€¦}} - No properties - ä½†æ˜¯ WeakSet ä¼šä»¥ä¸ºä»–è¿˜ä¿å­˜ç€å€¼ ä¹Ÿè¿˜æ˜¯ä¼šå»æ‰“å°</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// `WeakSet()` - ç³»ç»Ÿä¼šåœ¨ä¸€æ®µé—´éš”é‡Œé¢å°±å»æŠŠè¿™ä¸ªå€¼ ç§»é™¤æ‰...</span>
  <span class="token comment">// æ‰€ä»¥ `å¼±å¼•ç”¨` çš„å¥½å¤„å°±æ˜¯ æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨ èµ‹ç©º å¦‚æœæ²¡æœ‰å¼•ç”¨ ç³»ç»Ÿä¼šå¸®åŠ©æˆ‘ä»¬éš”ä¸€æ®µæ—¶é—´æ¸…ç©º</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong><code>WeakSet()</code> - ç³»ç»Ÿä¼šåœ¨ä¸€æ®µé—´éš”é‡Œé¢å°±å»æŠŠè¿™ä¸ªå€¼ ç§»é™¤æ‰...</strong></p> <h2 id="todo-ä»»åŠ¡åˆ—è¡¨ä¸­ä½¿ç”¨-weakset"><a href="#todo-ä»»åŠ¡åˆ—è¡¨ä¸­ä½¿ç”¨-weakset" class="header-anchor">#</a> <code>TODO</code> ä»»åŠ¡åˆ—è¡¨ä¸­ä½¿ç”¨ <code>WeakSet</code></h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:void(0);<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:void(0);<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:void(0);<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- javascript:åé¢ç›´æ¥åŠ äº†&quot;;&quot;è¡¨ç¤ºæ²¡æœ‰ä»»ä½•åŠ¨ä½œï¼Œè¿™æ ·ç‚¹aæ ‡ç­¾å°±ä¸ä¼šæœ‰ä»»ä½•ååº”äº† --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'ul&gt;li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>lists <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lists<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lists<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// WeakSet {li, li, li}</span>
  <span class="token punctuation">}</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> a <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// console.log(a); // ä¸‰ä¸ª a æ ‡ç­¾</span>
      a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> parentElement <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lists<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>parentElement<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          parentElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'remove'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>lists<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>parentElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hahhha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          parentElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'remove'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>lists<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>parentElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Todo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="map"><a href="#map" class="header-anchor">#</a> <code>Map</code></h2> <h2 id="map-ç±»å‹çš„ç‰¹ç‚¹-ä¸-åˆ›å»ºæ–¹æ³•"><a href="#map-ç±»å‹çš„ç‰¹ç‚¹-ä¸-åˆ›å»ºæ–¹æ³•" class="header-anchor">#</a> <code>Map</code> ç±»å‹çš„ç‰¹ç‚¹ ä¸ åˆ›å»ºæ–¹æ³•</h2> <p><strong>Mapæ˜¯å¯ä»¥å°† ä¸åŒçš„æ•°æ®ç±»å‹ éƒ½å¯ä»¥ä½œä¸ºé”®å è€Œ ä»¥å¾€çš„å¯¹è±¡åªèƒ½ä½¿ç”¨ å­—ç¬¦ä¸² ä½œä¸ºé”®å(Set çš„æ—¶å€™æœ‰è¯´æ˜)</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'gl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'hahaha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'guolin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Map(3) {&quot;name&quot; =&gt; &quot;gl&quot;, Æ’ =&gt; &quot;hahaha&quot;, {â€¦} =&gt; &quot;guolin&quot;}</span>
map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'number 1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'string 1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Map(2) {1 =&gt; &quot;number 1&quot;, &quot;1&quot; =&gt; &quot;string 1&quot;}</span>
</code></pre></div><p><strong>æˆ‘ä»¬ä¹Ÿå¯ä»¥å’Œ <code>Set</code> ä¸€æ · æ„é€ çš„æ—¶å€™æ·»åŠ  <code>Map</code> çš„æ•°æ®</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'gl'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Map(2) {&quot;1&quot; =&gt; &quot;2&quot;, &quot;name&quot; =&gt; &quot;gl&quot;}</span>
</code></pre></div><p><strong>é“¾å¼æ“ä½œ</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// `Js` çš„é“¾å¼æ“ä½œ</span>
<span class="token comment">// console.log('abc'.toString().substr(1, 1)); // b</span>
<span class="token comment">// `Map` çš„é“¾å¼æ“ä½œ - `Set` ä¹Ÿå¯ä»¥~ - ğŸ“ğŸ“</span>
map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'sina'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Map(2) {&quot;name&quot; =&gt; &quot;sina&quot;, &quot;2&quot; =&gt; &quot;3&quot;}</span>
<span class="token comment">// `Set` çš„é“¾å¼æ“ä½œ - ğŸ“ğŸ“</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(2) {1, 2}</span>
</code></pre></div><h2 id="map-ç±»å‹çš„-å¢åˆ æ”¹æŸ¥-æ“ä½œ"><a href="#map-ç±»å‹çš„-å¢åˆ æ”¹æŸ¥-æ“ä½œ" class="header-anchor">#</a> <code>Map</code> ç±»å‹çš„ å¢åˆ æ”¹æŸ¥ æ“ä½œ</h2> <ul><li><p><code>set('', '')</code> - <strong>è®¾ç½®å€¼ï¼Œ <code>Map</code> æ˜¯ <code>key-value</code> çš„å½¢å¼ï¼Œ <code>Set</code> æ˜¯ å€¼ çš„å½¢å¼</strong></p></li> <li><p><code>get()</code> - è·å–å€¼</p></li> <li><p><code>has()</code> - <strong>åˆ¤æ–­å€¼ï¼Œ æœ‰å°±è¿”å› <code>true</code> æ²¡æœ‰å°± <code>false</code></strong></p></li> <li><p><code>delete()</code> - <strong>åˆ é™¤æŒ‡å®šå€¼ï¼Œåˆ é™¤æˆåŠŸå°± <code>true</code> ï¼Œ æ²¡æœ‰å°± <code>false</code></strong></p></li> <li><p><code>clear()</code> - <strong>æ¸…ç©º <code>set</code> é‡Œé¢çš„å…ƒç´ </strong></p></li> <li><p><code>keys()</code> - <strong>è¿”å› <code>map</code> é‡Œé¢æ‰€æœ‰çš„é”®</strong></p></li> <li><p><code>values()</code> - <strong>è¿”å› <code>map</code> é‡Œé¢æ‰€æœ‰çš„å€¼</strong></p></li> <li><p><code>entries()</code> - <strong><code>{&quot;1&quot; =&gt; &quot;2&quot;, &quot;name&quot; =&gt; &quot;gl&quot;}</code> - è¿”å› <code>map</code> é‡Œé¢æ‰€æœ‰çš„key-value</strong></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'gl'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set -è®¾ç½®å€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123 - </span>
<span class="token comment">// get - è·å–å€¼ - map.get({ name: 'gl' }) è¿™æ ·è·å–æ˜¯ä¸è¡Œçš„ å› ä¸ºæˆ‘é‚£çš„keyæ˜¯å¼•ç”¨ç±»å‹</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false æœ‰çš„è¯åˆ é™¤å¹¶è¿”å›true æ²¡æœ‰è¿”å›false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// clearå½»åº•æ¸…ç©º - clearæ˜¯æ²¡æœ‰è¿”å›å€¼çš„</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hasæ£€æµ‹æ˜¯å¦æœ‰key-value æœ‰å°±è¿”å›true æ²¡æœ‰å°±è¿”å›false</span>
</code></pre></div><h2 id="éå†-map-ç±»å‹æ•°æ®"><a href="#éå†-map-ç±»å‹æ•°æ®" class="header-anchor">#</a> éå† <code>Map</code> ç±»å‹æ•°æ®</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'gl'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// MapIterator {&quot;1&quot;, &quot;name&quot;} - è¿”å› `map` é‡Œé¢æ‰€æœ‰çš„é”® </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// MapIterator {&quot;2&quot;, &quot;gl&quot;} - è¿”å› `map` é‡Œé¢æ‰€æœ‰çš„å€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// MapIterator {&quot;1&quot; =&gt; &quot;2&quot;, &quot;name&quot; =&gt; &quot;gl&quot;} - è¿”å› `map` é‡Œé¢æ‰€æœ‰çš„key-value</span>
</code></pre></div><p><strong><code>forEach</code> - <code>for...of</code> // éƒ½å¯ä»¥è¿›è¡Œå¾ªç¯</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¾ªç¯ map.keys() || map.values() éƒ½æ˜¯å¯ä»¥çš„</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1&quot;, &quot;2&quot;] [&quot;name&quot;, &quot;gl&quot;]</span>
  <span class="token comment">// è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ å±•å¼€è¯­æ³• è¿›è¡Œèµ‹å€¼</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 name</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 gl</span>
<span class="token punctuation">}</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// âš ï¸ valueæ˜¯ç¬¬ä¸€ä¸ªå‚æ•° keyæ˜¯ç¬¬äºŒä¸ªå‚æ•°</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 gl</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 name</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="map-çš„ç±»å‹è½¬æ¢"><a href="#map-çš„ç±»å‹è½¬æ¢" class="header-anchor">#</a> <code>Map</code> çš„ç±»å‹è½¬æ¢</h2> <p><strong>a =&gt; b =&gt; a - aè½¬æ¢æˆbåšå¤„ç† ç„¶åå¤„ç†å®Œæˆè¿”å› a ç±»å‹</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'gl'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å±•å¼€ä¹‹åå°±å˜æˆæ•°ç»„äº†~ (2) [&quot;1&quot;, &quot;2&quot;] (2) [&quot;name&quot;, &quot;gl&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>map<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (2) [Array(2), Array(2)] - å°±ç­‰åŒäº [...map.entries()]</span>
<span class="token comment">// ä¹Ÿå¯ä»¥å•ç‹¬è½¬æ¢ `é”®`</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1&quot;, &quot;name&quot;] - å€¼åŒç†</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>map<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'gl'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [[&quot;name&quot;, &quot;gl&quot;]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Map(1) {&quot;name&quot; =&gt; &quot;gl&quot;}</span>
</code></pre></div><h2 id="map-ç±»å‹ç®¡ç†-dom-èŠ‚ç‚¹"><a href="#map-ç±»å‹ç®¡ç†-dom-èŠ‚ç‚¹" class="header-anchor">#</a> <code>Map</code> ç±»å‹ç®¡ç† DOM èŠ‚ç‚¹</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>one<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1*20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>two<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2*20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    content<span class="token operator">:</span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> ele</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ä½¿ç”¨-map-ç±»å‹æ§åˆ¶ç½‘ç«™è¡¨å•æäº¤"><a href="#ä½¿ç”¨-map-ç±»å‹æ§åˆ¶ç½‘ç«™è¡¨å•æäº¤" class="header-anchor">#</a> ä½¿ç”¨ <code>Map</code> ç±»å‹æ§åˆ¶ç½‘ç«™è¡¨å•æäº¤</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- action: å°±æ˜¯ å¦‚æœä¸º true è·³è½¬çš„ç½‘å€~ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://47.97.43.76/<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token keyword">return</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  æ¥å—åè®®
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>agrt<span class="token punctuation">&quot;</span></span> <span class="token attr-name">error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·æ¥å—åè®®<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

  æˆ‘æ˜¯å­¦ç”Ÿ
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stud<span class="token punctuation">&quot;</span></span> <span class="token attr-name">error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åªå¯¹å­¦ç”Ÿå¼€æ”¾<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æäº¤<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./Map.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> inputs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'[error]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  inputs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      error<span class="token operator">:</span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      status<span class="token operator">:</span> item<span class="token punctuation">.</span>checked<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log([...map]); // [Array(2), Array(2)]</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>map<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>ele<span class="token punctuation">,</span> config<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// ğŸ“ğŸ“ğŸ“ å‚æ•°ä½¿ç”¨äº† è§£æ„ç‰¹æ€§ ä¼˜ç§€...</span>
    <span class="token comment">// console.log(config); // {error: &quot;è¯·æ¥å—åè®®&quot;, status: false}</span>
    config<span class="token punctuation">.</span>status <span class="token operator">||</span> <span class="token function">alert</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ç¥å¥‡ amazing... è¿™æ ·å¦‚æœä¸ºtrueä¸alert falseå°±æç¤º... ğŸ“ğŸ“ğŸ“</span>
    <span class="token keyword">return</span> config<span class="token punctuation">.</span>status<span class="token punctuation">;</span> <span class="token comment">// è¿”å›ä¸€ä¸ªç»“æœ å¦‚æœä¸ºtrue å°±æäº¤...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è¡¥å……-sub-âš ï¸âš ï¸âš ï¸"><a href="#è¡¥å……-sub-âš ï¸âš ï¸âš ï¸" class="header-anchor">#</a> è¡¥å…… - <code>Sub</code> âš ï¸âš ï¸âš ï¸</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å°±æ¯”å¦‚ä½ å¹³å¸¸å†™ if å¦‚æœä¸€è¡Œä»£ç  å°±ä½ å¯ä»¥ç®€å†™</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¹Ÿå¯ä»¥ ç”¨è¿™ç§çŸ­è·¯è¿ç®— å†™æˆè¿™æ ·çš„</span>
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true çš„æ—¶å€™è¿™æ ·åš</span>
<span class="token boolean">false</span> <span class="token operator">||</span> <span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false çš„æ—¶å€™è¿™æ ·åš</span>
</code></pre></div><h2 id="weakmap-çš„è¯­æ³•ä½¿ç”¨"><a href="#weakmap-çš„è¯­æ³•ä½¿ç”¨" class="header-anchor">#</a> <code>WeakMap</code> çš„è¯­æ³•ä½¿ç”¨</h2> <p><strong><code>WeakMap</code> é‡Œé¢çš„é”® åªèƒ½æ˜¯å¯¹è±¡(å¼•ç”¨ç±»å‹)~</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'asd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠ¥é”™</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'666'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯¹è±¡æ•°ç»„ç­‰çš„å¼•ç”¨ç±»å‹å°±å¯ä»¥äº†</span>
</code></pre></div><p><strong><code>DOM</code> å…ƒç´ ä¹Ÿæ˜¯å¯¹è±¡ æ‰€ä»¥ä¹Ÿå¯ä»¥è¿›è¡Œå­˜å‚¨~</strong></p> <ul><li><strong>set delete has clear è¿™äº› <code>WeakMap</code> æ˜¯å¯ä»¥ä½¿ç”¨çš„ ğŸ“ğŸ“ğŸ“</strong></li> <li><strong>keys values entries size è¿™äº› <code>WeakMap</code> æ˜¯ä¸å¯ä»¥ä½¿ç”¨äº†~  ğŸ“ğŸ“ğŸ“</strong></li></ul> <h2 id="weakmap-å¼±å¼•ç”¨ç±»å‹ä½“éªŒ"><a href="#weakmap-å¼±å¼•ç”¨ç±»å‹ä½“éªŒ" class="header-anchor">#</a> <code>WeakMap</code> å¼±å¼•ç”¨ç±»å‹ä½“éªŒ</h2> <p><strong>- å› ä¸ºæ˜¯å¼±å¼•ç”¨ç±»å‹ - æ‰€ä»¥éå† æˆ–è€… è·å–é•¿åº¦çš„æ—¶å€™æ˜¯æœ‰é—®é¢˜çš„~</strong></p> <p><strong>å’Œ <code>WeakSet</code> ä¸€æ · - å…·ä½“å¯ä»¥å‚ç…§ <code>WeakSet</code> çš„ç« èŠ‚é‡Œé¢çš„å¼±å¼•ç”¨è¯´æ˜</strong> <a href="/docs/Js-Base/Map&amp;Set/#WeakSetçš„å¼±å¼•ç”¨ç‰¹æ€§">ç‚¹æˆ‘è·³è½¬ğŸ“</a></p> <p>å»¶æ—¶å™¨ å»æ‰“å° ç³»ç»Ÿä¹‹åä¼šè‡ªåŠ¨æ¸…ç©º</p> <ul><li><p><strong><code>WeakMap</code> åˆ¤æ–­çš„æ—¶å€™ ä½¿ç”¨ <code>has</code> å»åˆ¤æ–­</strong></p> <p>å› ä¸ºæ˜¯å¼±å¼•ç”¨ï¼Œå¼•ç”¨åœ°å€å®ƒä»¥ä¸ºè¿˜åœ¨, æ‰€ä»¥æ‹¿ has åˆ¤æ–­æ›´ä¸ºå‡†ç¡®~</p></li></ul> <h2 id="åˆ¤æ–­æ•°é‡"><a href="#åˆ¤æ–­æ•°é‡" class="header-anchor">#</a> åˆ¤æ–­æ•°é‡</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å› ä¸º `WeakMap` æ˜¯å¼±å¼•ç”¨ç±»å‹~</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¾€é‡Œé¢ push ä¸€ä¸ª</span>
<span class="token keyword">class</span> <span class="token class-name">Code</span> <span class="token punctuation">{</span>
  <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç‚¹å‡»æ ‡ç­¾ä¹‹å å¾€é‡Œé¢ set äº†</span>
    <span class="token comment">// æ¯æ¬¡ç‚¹å‡» æˆ‘éƒ½éå†ä¸€ä¸‹ æœ‰çš„å°±åŠ  1 æ²¡æœ‰çš„åŠ  0 ç„¶åå°±ä¼š æ„å»ºå‡ºæ•°é‡</span>
    <span class="token comment">// æ‹¿ `has` åˆ¤æ–­ `WeakMap` å°±æŒºå¥½~</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>lis<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span> li</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>count <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">lists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡Œç”¨åˆ°äº† js é‡Œé¢çš„é“¾å¼ç¼–ç¨‹...</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>lis<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">li</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">li</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>li<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d202f84b.js" defer></script><script src="/assets/js/2.2df5d1b6.js" defer></script><script src="/assets/js/16.0f1f9fd4.js" defer></script>
  </body>
</html>
