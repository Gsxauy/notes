<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Js - åŸå‹ä¸ç»§æ‰¿</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.26cac436.js" as="script"><link rel="preload" href="/assets/js/2.2df5d1b6.js" as="script"><link rel="preload" href="/assets/js/21.c42beae1.js" as="script"><link rel="prefetch" href="/assets/js/10.eaa1d4ec.js"><link rel="prefetch" href="/assets/js/11.6f95e229.js"><link rel="prefetch" href="/assets/js/12.30eddc72.js"><link rel="prefetch" href="/assets/js/13.4fdf441e.js"><link rel="prefetch" href="/assets/js/14.ac967237.js"><link rel="prefetch" href="/assets/js/15.ab0fe770.js"><link rel="prefetch" href="/assets/js/16.e9253bb0.js"><link rel="prefetch" href="/assets/js/17.2f2df1b1.js"><link rel="prefetch" href="/assets/js/18.cbb9c819.js"><link rel="prefetch" href="/assets/js/19.bc4d3a36.js"><link rel="prefetch" href="/assets/js/20.4bd18993.js"><link rel="prefetch" href="/assets/js/22.7f7759e8.js"><link rel="prefetch" href="/assets/js/23.324c37a3.js"><link rel="prefetch" href="/assets/js/24.4adf62c6.js"><link rel="prefetch" href="/assets/js/25.6925a4e6.js"><link rel="prefetch" href="/assets/js/26.16c4556d.js"><link rel="prefetch" href="/assets/js/27.bb4f278a.js"><link rel="prefetch" href="/assets/js/28.22912d99.js"><link rel="prefetch" href="/assets/js/3.0ab2436a.js"><link rel="prefetch" href="/assets/js/4.2a5d96fc.js"><link rel="prefetch" href="/assets/js/5.fd255a4a.js"><link rel="prefetch" href="/assets/js/6.66b67ff0.js"><link rel="prefetch" href="/assets/js/7.7ecf7e0a.js"><link rel="prefetch" href="/assets/js/8.e8e291f9.js"><link rel="prefetch" href="/assets/js/9.e9131e05.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-åŸå‹ä¸ç»§æ‰¿"><a href="#js-åŸå‹ä¸ç»§æ‰¿" class="header-anchor">#</a> Js - åŸå‹ä¸ç»§æ‰¿</h1> <h2 id="å¯¹è±¡çš„åŸå‹-çˆ¶çº§"><a href="#å¯¹è±¡çš„åŸå‹-çˆ¶çº§" class="header-anchor">#</a> å¯¹è±¡çš„åŸå‹ ï¼ˆçˆ¶çº§ï¼‰</h2> <h4 id="åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡"><a href="#åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡" class="header-anchor">#</a> åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> gl <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl <span class="token comment">// {name: &quot;gl&quot;}</span>
</code></pre></div><ul><li><p><code>Object.create</code> åˆ›å»ºå¯¹è±¡çš„<code>å‚æ•°</code>ä»¥åŠ<code>è¿”å›å€¼</code>ä»‹ç»</p> <ol><li><p>ï¼ˆparams - 1ï¼‰æ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚</p></li> <li><p>ï¼ˆparmas - 2ï¼‰<code>å¯é€‰</code>  å‚æ•°å¦‚ä¸‹ å’Œ <code>Object.defineProperty()</code> ä¸€è‡´</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  configurable<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span> <span class="token comment">// true è¡¨ç¤ºæè¿°ç¬¦ç±»å‹å¯ä¿®æ”¹ å¹¶ å¯¹åº”å¯¹è±¡å±æ€§å¯åˆ é™¤</span>
  enumerable<span class="token operator">:</span>  <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span> <span class="token comment">// true è¡¨ç¤ºå¯æšä¸¾   in æ“ä½œç¬¦å¯æŸ¥åˆ°</span>
  value<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span> <span class="token comment">// å¯ä»¥æ˜¯ä»»ä½•jsæœ‰æ•ˆå€¼ å±æ€§å…³è”çš„å€¼</span>
  writable<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span> <span class="token comment">// true è¡¨ç¤º å¯¹åº”å¯¹è±¡å±æ€§çš„å€¼å¯ä»¥è¢«ä¿®æ”¹</span>
  get<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// getterå‡½æ•° å¦‚æœæ²¡æœ‰ getter åˆ™ä¸ºundefinedã€‚å‡½æ•°è¿”å›å€¼å°†è¢«ç”¨ä½œå±æ€§çš„å€¼ã€‚</span>
  ser<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// setterå‡½æ•° å¦‚æœæ²¡æœ‰ setter åˆ™ä¸ºundefinedã€‚å‡½æ•°å°†ä»…æ¥å—å‚æ•°èµ‹å€¼ç»™è¯¥å±æ€§çš„æ–°å€¼ã€‚</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>ï¼ˆreturn - valueï¼‰ ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¸¦ç€æŒ‡å®šçš„åŸå‹å¯¹è±¡å’Œå±æ€§ã€‚(æŒ‡å®šnull åˆ™æ²¡æœ‰åŸå‹)</p></li></ol></li> <li><p>æˆ‘ä»¬æ¯æ¬¡ å­—é¢é‡ åˆ›å»º å¯¹è±¡çš„æ—¶å€™ï¼Œç›¸å½“äº <code>new Object()</code> æ“ä½œ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// true</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> b<span class="token punctuation">.</span>__proto__ <span class="token comment">// true</span>
å› ä¸ºä»–ä»¬çš„ <span class="token punctuation">[</span><span class="token punctuation">[</span>prototype<span class="token punctuation">]</span><span class="token punctuation">]</span> éƒ½æ˜¯ <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
b<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div></li></ul> <h4 id="å¯¹è±¡-å’Œ-å‡½æ•°ä¹‹é—´çš„åŒºåˆ«-ä»…åŸå‹"><a href="#å¯¹è±¡-å’Œ-å‡½æ•°ä¹‹é—´çš„åŒºåˆ«-ä»…åŸå‹" class="header-anchor">#</a> å¯¹è±¡ å’Œ å‡½æ•°ä¹‹é—´çš„åŒºåˆ« - ä»…åŸå‹</h4> <ul><li><strong>å¯¹è±¡åªæœ‰ <code>__proto__</code>  ([[<code>prototype</code>]]) æ²¡æœ‰ <code>prototype</code> , <code>prototype</code>æ˜¯å‡½æ•°ç‹¬æœ‰çš„</strong> ã€‚</li></ul> <h4 id="è‡ªå®šä¹‰åŸå‹å¯¹è±¡"><a href="#è‡ªå®šä¹‰åŸå‹å¯¹è±¡" class="header-anchor">#</a> è‡ªå®šä¹‰åŸå‹å¯¹è±¡</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'parent'</span><span class="token punctuation">,</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent method: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true åŸå…ˆæ˜¯ true</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// p</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p <span class="token comment">// true</span>
p<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><h3 id="å‡½æ•°-å¯¹è±¡-çš„åŸå‹"><a href="#å‡½æ•°-å¯¹è±¡-çš„åŸå‹" class="header-anchor">#</a> å‡½æ•°(å¯¹è±¡)çš„åŸå‹</h3> <h4 id="proto-prototype"><a href="#proto-prototype" class="header-anchor">#</a> <code>__proto__</code> &amp;&amp; <code>prototype</code></h4> <ul><li><p><code>__proto__</code> (<code>[[prototype]]</code>) æ˜¯åŸå‹ <strong>å‡½æ•°æœ€ä¸ºå¯¹è±¡ä½¿ç”¨çš„æ—¶å€™ è°ƒç”¨çš„ <code>[[prototype]]</code></strong></p></li> <li><p><code>prototype</code> æ˜¯åŸå‹ <strong>å‡½æ•°ä½œä¸ºå‡½æ•°ä½¿ç”¨çš„æ—¶å€™ è°ƒç”¨çš„ <code>prototype</code></strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Useræœ‰ä¸¤ä¸ªçˆ¶çº§</span>
<span class="token comment">// ä¸€ä¸ª __proto__ æœåŠ¡äºå‡½æ•°å¯¹è±¡(**æœåŠ¡äºä»–è‡ªå·±**)çš„</span>
<span class="token comment">// ä¸€ä¸ªæ˜¯æœåŠ¡äºå‡½æ•°å®ä¾‹åŒ–çš„å¯¹è±¡çš„ prototype </span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å› ä¸º User.prototype çš„çˆ¶çº§æ˜¯å¯¹è±¡ æ‰€ä»¥åœ¨å¾€ä¸Šæ‰¾å°±æ˜¯ __proto__</span>
gl<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> User<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// true</span>
gl<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token comment">// true</span>
<span class="token comment">// __proto__ å‘ä¸Šä¸æ–­æŸ¥æ‰¾çš„è¿‡ç¨‹ å°±æ˜¯æ•´æ¡åŸå‹é“¾äº†ã€‚</span>
</code></pre></div></li></ul> <h4 id="constructor"><a href="#constructor" class="header-anchor">#</a> <code>constructor</code></h4> <ul><li><p><code>constructor</code> æ„é€ å™¨ æ˜¯ å‡½æ•°åŸå‹ä¸ŠæŸ¥æ‰¾è‡ªå·±çš„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// User.prototype æœ‰ä¸¤ä¸ª</span>
<span class="token comment">// ä¸€ä¸ª __proto__ æ¥å»æ‰¾ åŸå‹é“¾</span>
<span class="token comment">// ä¸€ä¸ª constructor æ¥å»æ‰¾ è‡ªå·±</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å› ä¸º gl æ˜¯ new å‡ºæ¥çš„å®ä¾‹ å¯¹è±¡ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ __proto__ æ¥æŸ¥æ‰¾</span>
gl<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> User <span class="token comment">// true</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> User <span class="token comment">// true</span>
gl<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor  <span class="token comment">// true</span>

<span class="token comment">// FIXME: å¦‚æœæƒ³è¦åœ¨åŸå‹ä¸Šå†™å¤šä¸ªæ–¹æ³•å±æ€§ å¯èƒ½ä¼šæƒ³åˆ° ä½¿ç”¨å­—é¢é‡çš„æ–¹å¼</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// å­—é¢é‡ä¹‹å æ„é€ å™¨æŒ‡å‘å°± ä¸¢å¤±äº†</span>
  <span class="token comment">// è¿™æ ·å°±ç›¸å½“äºå¼€è¾Ÿäº†ä¸€å—æ–°ç©ºé—´ - é‡æ–°æŒ‡å‘äº† æ‰€ä»¥åŸæ¥ prototype é‡Œé¢çš„ constructor å°±æ²¡æœ‰äº†</span>
  <span class="token comment">// éœ€è¦å°† æ„é€ å™¨æŒ‡å›å»ï¼Œä¿è¯æœ‰è”ç³»</span>
  constructor<span class="token operator">:</span> User<span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="åŸå‹é“¾æ£€æµ‹ä¹‹-instanceof-ä¸€ä¸ªæ„é€ å‡½æ•°çš„-prototype-æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é•¿è¾ˆ"><a href="#åŸå‹é“¾æ£€æµ‹ä¹‹-instanceof-ä¸€ä¸ªæ„é€ å‡½æ•°çš„-prototype-æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é•¿è¾ˆ" class="header-anchor">#</a> åŸå‹é“¾æ£€æµ‹ä¹‹ - <code>instanceof</code> ï¼ˆä¸€ä¸ªæ„é€ å‡½æ•°çš„ prototype æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é•¿è¾ˆï¼‰</h4> <ul><li><p><code>instanceof</code> è¿ç®—ç¬¦ç”¨æ¥åˆ¤æ–­ ä¸€ä¸ªæ„é€ å‡½æ•°çš„prototypeå±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚æ˜¯å¦å­˜åœ¨å¦å¤–ä¸€ä¸ªè¦æ£€æµ‹çš„å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li></ul> <h4 id="isprototypeof-æ˜ç¡®æ¥æ£€æµ‹-ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š"><a href="#isprototypeof-æ˜ç¡®æ¥æ£€æµ‹-ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š" class="header-anchor">#</a> <code>isPrototypeOf</code> æ˜ç¡®æ¥æ£€æµ‹ ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š</h4> <ul><li><p><code>isPrototypeOf</code> ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é•¿è¾ˆ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// å› ä¸º b.__proto__ === Object.prototype</span>
b<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// true æˆ–è€…ç†è§£ä¸ºä¸€ä¸ªå¯¹è±¡(b)æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡(a)çš„é•¿è¾ˆ</span>
</code></pre></div></li></ul> <h4 id="in-å’Œ-hasownproperty-çš„å±æ€§æ£€æµ‹çš„å·®å¼‚"><a href="#in-å’Œ-hasownproperty-çš„å±æ€§æ£€æµ‹çš„å·®å¼‚" class="header-anchor">#</a> <code>in</code> å’Œ <code>hasOwnProperty</code> çš„å±æ€§æ£€æµ‹çš„å·®å¼‚</h4> <ul><li><p><code>in</code> ä¼šæ£€æµ‹ åŸå‹é“¾ ä¸­ä¸€åˆ‡å¯æšä¸¾çš„å±æ€§ã€‚</p></li> <li><p><code>hasOwnProperty</code> åªä¼šæ£€æµ‹ è‡ªèº«å±æ€§ã€‚ ï¼ˆæ˜¯å¦ æŒ‚è½½ åœ¨è‡ªèº«ä¸Šï¼‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token string">'baidu.com'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>web <span class="token operator">=</span> <span class="token string">'hdcms.com'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'web'</span> <span class="token keyword">in</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - 'in'ä¼šæ£€æµ‹åŸå‹é“¾</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name'</span> <span class="token keyword">in</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - 'in'ä¼šæ£€æµ‹åŸå‹é“¾</span>

<span class="token comment">// å¦‚æœæŸä¸€æ—¶å€™ æŒ‡å‘æ“ä½œå½“å‰å¯¹è±¡ ä¸æ£€æµ‹åŸå‹é“¾ hasOwnProperty</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true // hasOwnProperty åªæ£€æŸ¥è‡ªå·±</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'web'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// FIXME: ä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆ å°±ä¼šæœ‰è¿™ä¸ª hasOwnProperty</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'key1'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'key2'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// key1 url - key2 url - key1 name - key1 web</span>
</code></pre></div></li></ul> <h4 id="ä½¿ç”¨-call-apply-å€Ÿç”¨åŸå‹é“¾"><a href="#ä½¿ç”¨-call-apply-å€Ÿç”¨åŸå‹é“¾" class="header-anchor">#</a> ä½¿ç”¨ <code>call</code> &amp;&amp; <code>apply</code> å€Ÿç”¨åŸå‹é“¾</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">max</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sortArr <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sortArr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
content<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55;</span>

<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token punctuation">{</span>
  lessons<span class="token operator">:</span> <span class="token punctuation">{</span>
    js<span class="token operator">:</span> <span class="token number">87</span><span class="token punctuation">,</span>
    php<span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    node<span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span> <span class="token comment">// FIXME: å› ä¸ºè¿™é‡Œéœ€è¦ä¼ é€’çš„å‚æ•°æ•°ç»„</span>
<span class="token comment">// apply ä¼ é€’è¿›å»ä¹‹å æ˜¯æŒ‰ç…§ä¸€ä¸ªä¸€ä¸ªåˆ†å¼€å¤„ç†çš„ è¿˜æ˜¯å•ä¸ªå‚æ•° </span>
<span class="token comment">// æ¯”å¦‚ apply(null, [1, 2, 3]) ä½†æ˜¯è¿›å»çœ‹å‚æ•° è¿˜æ˜¯ (data1 = 1, data2 = 2, data3 = 3)</span>

<span class="token comment">// æ‰€ä»¥éœ€è¦æ”¹æˆcall é‚£ä¹ˆç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ä¼ é€’è¿›å»çš„æ•°ç»„äº†~</span>
content<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 88</span>

<span class="token comment">// -----------------------------------------------------------------</span>
<span class="token comment">// ä¼˜åŒ–è°ƒç”¨æ–¹æ³•</span>
<span class="token keyword">const</span> gl <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55 å› ä¸ºéœ€è¦ä¼ é€’å¤šä¸ªå‚æ•° ç°æˆçš„æ•°ç»„ æ‰€ä»¥ä½¿ç”¨ apply å°±å¯ä»¥äº†</span>

<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token punctuation">{</span>
  lessons<span class="token operator">:</span> <span class="token punctuation">{</span>
    js<span class="token operator">:</span> <span class="token number">87</span><span class="token punctuation">,</span>
    php<span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    node<span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 88</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ ·ä¼ é€’è¿›å»çš„å°±æ˜¯ä¸€æ•´ä¸ªæ•°ç»„ æ‰€ä»¥è°ƒç”¨çš„æ—¶å€™ âš ï¸æ³¨æ„ä¸€ä¸‹å°±è¡Œ</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 88 è¿™æ ·å°±å¯ä»¥äº†</span>
</code></pre></div><h4 id="ä¼ªæ•°ç»„å€Ÿç”¨æ•°ç»„æ–¹æ³•"><a href="#ä¼ªæ•°ç»„å€Ÿç”¨æ•°ç»„æ–¹æ³•" class="header-anchor">#</a> ä¼ªæ•°ç»„å€Ÿç”¨æ•°ç»„æ–¹æ³•</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token comment">/* &lt;button class=&quot;red&quot;&gt;æˆ‘æ˜¯çº¢è‰²&lt;/button&gt;
&lt;button&gt;æˆ‘æ˜¯é»˜è®¤&lt;/button&gt; */</span><span class="token punctuation">}</span>
filter <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>filter<span class="token punctuation">;</span>
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Array.prototype.filter</span>
  item<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token comment">// æˆ‘æ˜¯çº¢è‰²</span>
</code></pre></div><h4 id="object-createå’Œ-proto"><a href="#object-createå’Œ-proto" class="header-anchor">#</a> <code>Object.create</code>å’Œ<code>__proto__</code></h4> <ul><li><code>Object.create</code>å¦‚ä¸Šæ‰€è¿° <a href="/docs/Js-Base/prototype/#åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡">ç‚¹æˆ‘è·³è½¬ğŸ“</a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> me <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ˜¯å¯ä»¥åšåˆ°æ·±æ‹·è´çš„ å¹¶ä¸”å®ƒçš„çˆ¶çº§å°±æ˜¯ person âš ï¸</span>
me<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> person<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><ul><li><p>ä½¿ç”¨ setPrototypeOf æ¥æ›¿ä»£ <code>__proto__</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span> <span class="token comment">// è·å– ç›¸å½“äº gl.__proto__</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> user<span class="token punctuation">)</span> <span class="token comment">// è®¾ç½® ç›¸å½“äº gl.__proto__ = user</span>
</code></pre></div></li></ul> <h2 id="proto-è¿™é‡Œæ˜¯ä¸ªé‡ç‚¹"><a href="#proto-è¿™é‡Œæ˜¯ä¸ªé‡ç‚¹" class="header-anchor">#</a> <strong><code>__proto__</code></strong> è¿™é‡Œæ˜¯ä¸ªé‡ç‚¹</h2> <h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="header-anchor">#</a> ç»§æ‰¿</h2> <h3 id="ç»§æ‰¿æ˜¯åŸå‹çš„ç»§æ‰¿-è€Œä¸æ˜¯æ”¹å˜æ„é€ å‡½æ•°çš„åŸå‹"><a href="#ç»§æ‰¿æ˜¯åŸå‹çš„ç»§æ‰¿-è€Œä¸æ˜¯æ”¹å˜æ„é€ å‡½æ•°çš„åŸå‹" class="header-anchor">#</a> ç»§æ‰¿æ˜¯åŸå‹çš„ç»§æ‰¿ è€Œä¸æ˜¯æ”¹å˜æ„é€ å‡½æ•°çš„åŸå‹</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è¿™æ ·ä¼šé€ æˆ æˆ‘å¾€åŸå‹é‡Œé¢æ·»åŠ æ–¹æ³•</span>
<span class="token comment">// ä¸€ä¸ªæ˜¯ é‡å¤çš„ä¼šè¦†ç›–æ‰ </span>
<span class="token comment">// å¦ä¸€ä¸ªæ˜¯ éƒ½æ˜¯å¾€ User.protptype é‡Œé¢æ·»åŠ æ–¹æ³• æŒ‡å‘å·²ç»æ”¹å˜äº†</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> User<span class="token punctuation">.</span>Prototype <span class="token comment">// âŒ</span>

<span class="token comment">// âœ…</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'show method'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// æ–¹æ³•ä¸€</span>

<span class="token comment">// è¿™é‡Œ User.prototype å°±è‡ªåŠ¨æŒ‚è½½åœ¨äº† Admin.prototype ä¸Šäº†ã€‚</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// æ–¹æ³•äºŒ</span>
<span class="token comment">// è¿™æ ·å°± æœ‰é¡ºåºè¦æ±‚äº† å› ä¸ºé‡æ–°æŒ‡å‘äº† æ·»åŠ æ–¹æ³•å‰åé¡ºåºå°±éœ€è¦éµå¾ªäº†</span>
</code></pre></div><h3 id="ç»§æ‰¿å¯¹äº-æ–°å¢å¯¹è±¡çš„å½±å“"><a href="#ç»§æ‰¿å¯¹äº-æ–°å¢å¯¹è±¡çš„å½±å“" class="header-anchor">#</a> ç»§æ‰¿å¯¹äº æ–°å¢å¯¹è±¡çš„å½±å“</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œ a æŒ‡å‘çš„ åŸæ¥ Admin.prototype</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">//è¿™é‡Œé‡æ–°æŒ‡å‘äº† ä½†æ˜¯ a.__proto__ è¿˜æ˜¯æŒ‡å‘åŸæ¥çš„  æ‰€ä»¥æœ€å¥½è¿˜æ˜¯ æ–¹æ³•ä¸€ å»å®ç° å‡½æ•°çš„ç»§æ‰¿æˆ–è€… class</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">role</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Admin role method'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">role</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å“ªæ€•æ˜¯åœ¨è¿™é‡Œæ‰§è¡Œä¹Ÿæ˜¯ä¼šæŠ¥é”™çš„~</span>
<span class="token comment">// æ‰€ä»¥å°±ä¼šæŠ¥é”™äº†</span>
</code></pre></div><h3 id="ç»§æ‰¿å¯¹äº-constructor-çš„å½±å“"><a href="#ç»§æ‰¿å¯¹äº-constructor-çš„å½±å“" class="header-anchor">#</a> ç»§æ‰¿å¯¹äº <code>constructor</code> çš„å½±å“</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">Hd</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Hd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true -- Hd.prototype.constructor === Hd</span>

<span class="token comment">// éƒ½æ˜¯é‡æ–°èµ‹å€¼çš„ æŒ‡å‘ä¸¢å¤± å¼€è¾Ÿæ–°ç©ºé—´</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// è¿™æ ·å®šä¹‰ä¹‹åå°±æŠŠ constructor å°±ä¸¢å¤±äº†</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Admin <span class="token comment">// éœ€è¦æ‰‹åŠ¨æŒ‡å‘ä¸€ä¸‹</span>
</code></pre></div><ul><li><p>ç¦æ­¢ <code>constructor</code> è¢«éå†  â¬†ï¸ æ¥ç€ä¸Šé¢çš„è¯´</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// å‘ç° enumerable ä¸ºtrue</span>
<span class="token comment">// for... in  æ˜¯å¯ä»¥éå†åˆ°çš„</span>
<span class="token comment">// æ‰€ä»¥æˆ‘ä»¬å®šä¹‰çš„æ—¶å€™éœ€è¦ è¿™æ ·å®šä¹‰</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'constructor'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> Admin<span class="token punctuation">,</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦æ­¢è¢«éå†</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="æ–¹æ³•é‡å†™-ä¸-çˆ¶çº§å±æ€§è®¿é—®"><a href="#æ–¹æ³•é‡å†™-ä¸-çˆ¶çº§å±æ€§è®¿é—®" class="header-anchor">#</a> æ–¹æ³•é‡å†™ ä¸ çˆ¶çº§å±æ€§è®¿é—®</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'user.name'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">site</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'éƒ­éœ–'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Admin<span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœä¸æƒ³ç”¨çˆ¶çº§show é‚£ä¹ˆå°±è‡ªå®šä¹‰ ç„¶åå°±è¿‘åŸåˆ™</span>
  <span class="token comment">// User.prototype. ... å°±å¯ä»¥è®¿é—®åˆ°çˆ¶çº§å±æ€§</span>
  <span class="token comment">// âš ï¸ æ˜¯å¯ä»¥é‡æ–°å†™ ä¹Ÿå¯ä»¥ä½¿ç”¨ çˆ¶çº§æ–¹æ³•æˆ–è€…å±æ€§çš„ å¸®åŠ©é‡å†™æ–°çš„æ–¹æ³•</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">site</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'admin show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="é¢å‘å¯¹è±¡çš„å¤šæ€"><a href="#é¢å‘å¯¹è±¡çš„å¤šæ€" class="header-anchor">#</a> é¢å‘å¯¹è±¡çš„å¤šæ€</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> obj <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Member</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ ·å°±å„è‡ªè°ƒç”¨å„è‡ªçš„åŸå‹ ä¸Šçš„showæ–¹æ³•</span>
  
  <span class="token comment">// å¦‚æœæ²¡æœ‰å¤šæ€ é‚£å°±æ˜¯ showAdmin() showMember()...è¿™æ ·å®ç°äº†</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Admin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> obj<span class="token punctuation">.</span><span class="token function">showAdmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="for-of"><a href="#for-of" class="header-anchor">#</a> <code>for...of</code></h4> <ul><li><p><code>for...of</code> å…è®¸ä½ éå† Arraysï¼ˆæ•°ç»„ï¼‰, Stringsï¼ˆå­—ç¬¦ä¸²ï¼‰, Mapsï¼ˆæ˜ å°„ï¼‰, Setsï¼ˆé›†åˆï¼‰ç­‰å¯è¿­ä»£çš„æ•°æ®ç»“æ„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> iterable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'mini'</span><span class="token punctuation">,</span> <span class="token string">'mani'</span><span class="token punctuation">,</span> <span class="token string">'mo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// for...of  --- 'mini', 'mani', 'mo'</span>

<span class="token keyword">const</span> iterable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> iterable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Key: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and Value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Key: one and Value: 1 Key: two and Value: 2</span>
<span class="token operator">...</span>
</code></pre></div></li></ul> <h3 id="ä½¿ç”¨çˆ¶ç±»æ„é€ å‡½æ•°-åˆå§‹åŒ–-å±æ€§"><a href="#ä½¿ç”¨çˆ¶ç±»æ„é€ å‡½æ•°-åˆå§‹åŒ–-å±æ€§" class="header-anchor">#</a> ä½¿ç”¨çˆ¶ç±»æ„é€ å‡½æ•° åˆå§‹åŒ– å±æ€§</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç®€å•ç‰ˆæœ¬</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...args å°æŠ€å·§ è¿™é‡Œçš„ç»“æ„å…¶å®æ˜¯å°† ç±»æ•°ç»„è½¬æˆæ•°ç»„äº†</span>
<span class="token comment">// å‘ƒ... å…¶å®ä¹Ÿä¸æ˜¯ è¿™é‡Œä¹Ÿæ˜¯ ä¸ºäº†æ”¶é›†å¤šä¸ªå‚æ•°</span>
<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">User</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'constructor'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> Admin<span class="token punctuation">,</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token string">'éƒ­éœ–'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éƒ­éœ– 18</span>
</code></pre></div><h4 id="object-defineproperties-object-defineproperty"><a href="#object-defineproperties-object-defineproperty" class="header-anchor">#</a> Object.defineProperties &amp; Object.defineProperty</h4> <ul><li><p><code>Object.defineProperties</code> &amp; <code>Object.defineProperty</code> - æ˜¯å¤šä¸ª &amp; ä¸€ä¸ª çš„å…³ç³»</p> <p>ä¸ä¹‹å¯¹åº”çš„æ˜¯ ----- ä¸Šä¸‹æ˜¯å¯¹åº”çš„</p></li> <li><p><code>Object.getOwnPropertyDescriptor</code> &amp; <code>Object. getOwnPropertyDescriptors</code> - æ˜¯è¿”å›å¤šä¸ª &amp; è¿”å›ä¸€ä¸ªçš„å…³ç³»</p></li></ul> <h3 id="ä½¿ç”¨å·¥å‚å‡½æ•°-å°è£…ç»§æ‰¿"><a href="#ä½¿ç”¨å·¥å‚å‡½æ•°-å°è£…ç»§æ‰¿" class="header-anchor">#</a> ä½¿ç”¨å·¥å‚å‡½æ•° å°è£…ç»§æ‰¿</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">sub<span class="token punctuation">,</span> sup</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// sub-è¡¥å…… æ›¿ä»£ sup-è¶…çº§ åŸºç±»</span>
  sub<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>sup<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>sub<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'constructor'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> sub<span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">extend</span><span class="token punctuation">(</span>Admin<span class="token punctuation">,</span> User<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> gl1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token string">'éƒ­éœ–'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éƒ­éœ– 18</span>
</code></pre></div><h3 id="å¯¹è±¡å·¥å‚æ´¾ç”Ÿå¯¹è±¡å¹¶å®ç°ç»§æ‰¿"><a href="#å¯¹è±¡å·¥å‚æ´¾ç”Ÿå¯¹è±¡å¹¶å®ç°ç»§æ‰¿" class="header-anchor">#</a> å¯¹è±¡å·¥å‚æ´¾ç”Ÿå¯¹è±¡å¹¶å®ç°ç»§æ‰¿...</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">admin</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// instance - ä¾‹å­ å»ºè®®çš„æ„æ€</span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">User</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token function">admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="äº’ç›¸ä¹‹é—´æ²¡æœ‰å…³ç³»çš„å°±ä¸éœ€è¦ç»§æ‰¿äº†-ç»§æ‰¿çš„è¯å°±ç»§æ‰¿ä¸€ä¸ªå°±å¯ä»¥äº†"><a href="#äº’ç›¸ä¹‹é—´æ²¡æœ‰å…³ç³»çš„å°±ä¸éœ€è¦ç»§æ‰¿äº†-ç»§æ‰¿çš„è¯å°±ç»§æ‰¿ä¸€ä¸ªå°±å¯ä»¥äº†" class="header-anchor">#</a> äº’ç›¸ä¹‹é—´æ²¡æœ‰å…³ç³»çš„å°±ä¸éœ€è¦ç»§æ‰¿äº† ç»§æ‰¿çš„è¯å°±ç»§æ‰¿ä¸€ä¸ªå°±å¯ä»¥äº†</h4> <h3 id="ä½¿ç”¨-mixin-å®ç°å¤šç»§æ‰¿-æ··åˆåŠŸèƒ½"><a href="#ä½¿ç”¨-mixin-å®ç°å¤šç»§æ‰¿-æ··åˆåŠŸèƒ½" class="header-anchor">#</a> ä½¿ç”¨ mixin å®ç°å¤šç»§æ‰¿ - æ··åˆåŠŸèƒ½</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æŠŠæ–¹æ³•éƒ½ä¿®æ”¹ä¸ºå¯¹è±¡ æ–¹æ³•åªæ˜¯å¯¹è±¡çš„ä¸€ä¸ªå±æ€§</span>
<span class="token comment">// å®šä¹‰ä¸€äº›åŠŸèƒ½å¯¹è±¡ ç”¨åˆ°çš„æ—¶å€™å‘¢ æŠŠä»–ä»¬çš„å±æ€§åˆå¹¶åˆ°åŸå‹é‡Œé¢å°±å¯ä»¥äº†</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> Request<span class="token punctuation">,</span> Credit<span class="token punctuation">)</span>

<span class="token comment">// mixinçš„å†…éƒ¨ç»§æ‰¿ä¸superå…³é”®å­—</span>
<span class="token comment">// super // this.__proto__   super æ˜¯æŒ‡æˆ‘å½“å‰è¿™ä¸ªç±»çš„åŸå‹(çˆ¶çº§) åŸå‹é“¾çš„ éƒ½å¯ä»¥æ‹‰ä¸‹æ¥</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> b<span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// super - this.__proto__  é‚£å°±æ˜¯ b.name</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// super åªç”¨æ¥æ”€å‡åŸå‹ ä¸æ”¹å˜ this ğŸ“</span>

admin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// super ä¹Ÿæ˜¯æŒ‡å‘çš„å½“å‰ç±»çš„åŸå‹ å°±æ˜¯ a ä¸æ˜¯admin</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'123'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bb <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// __proto__: b,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// super ä¸èƒ½å•ç‹¬æ‰“å° å› ä¸ºæ˜¯å…³é”®å­—</span>
    <span class="token comment">// super.toString() ç›®å‰ç›¸å½“äºä½¿ç”¨ Object.toString()</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
bb<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="other"><a href="#other" class="header-anchor">#</a> Other</h4> <ul><li><p><code>new</code> å£°æ˜å¯¹è±¡çš„æ—¶å€™ æ–¹æ³•æ˜¯æ”¾åœ¨ åŸå‹<code>prototype</code> è®©å…¶å¤ç”¨çš„</p> <p>å¦‚æœç»™æ¯ä¸ªå¯¹è±¡éƒ½é…ç½®è¿™ä¸ªæ–¹æ³•  ä¼šé€ æˆ é¢å¤–çš„å†…å­˜å¼€é”€</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token comment">// å±æ€§æ˜¯å¯ä»¥çš„ ä¿å­˜åˆ°å„è‡ªçš„å®ä¾‹ä¹Ÿæ˜¯ ç‹¬ç«‹çš„</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// âŒ</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// âœ… å®šä¹‰åœ¨ çˆ¶çº§ è®©å…¶å¤ç”¨</span>
<span class="token comment">// å¦‚æœå£°æ˜ å¤šä¸ªæ–¹æ³• å¯ä»¥è¿™æ ·å†™</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token operator">:</span> User<span class="token punctuation">,</span> <span class="token comment">// âš ï¸ä¸è¦å¿˜è®° æŒ‡å‘è‡ªèº«å“¦</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>this</code> å’Œ <code>åŸå‹</code> æ˜¯æ²¡æœ‰å…³ç³»çš„</p></li> <li><p><strong>ä¸è¦æ»¥ç”¨åŸå‹</strong></p> <ul><li>ä¸å»ºè®®åœ¨ ç³»ç»Ÿçš„åŸå‹ (Object.prototype)ä¸­å»è¿½åŠ æ–¹æ³•ã€‚è¿™æ ·ä¸ç¨³å®š.</li></ul></li></ul> <h4 id="this-ç®­å¤´å‡½æ•°"><a href="#this-ç®­å¤´å‡½æ•°" class="header-anchor">#</a> <code>this</code> ï½ ç®­å¤´å‡½æ•°</h4> <ul><li><p>åœ¨ç®­å¤´å‡½æ•°å‡ºç°ä¹‹å‰ ğŸ“ï¼Œæ¯ä¸€ä¸ªæ–°å‡½æ•°æ ¹æ®å®ƒæ˜¯è¢«å¦‚ä½•è°ƒç”¨çš„æ¥å®šä¹‰è¿™ä¸ªå‡½æ•°çš„thiså€¼</p> <ul><li>å¦‚æœè¯¥å‡½æ•°æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° thisæŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡</li> <li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å‡½æ•°çš„è°ƒç”¨ã€‚this æŒ‡å‘ <code>undefined</code></li> <li>å¦‚æœè¯¥å‡½æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œ åˆ™å®ƒçš„thisæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå¯¹è±¡</li></ul></li> <li><p>ç®­å¤´å‡½æ•° ä¸ä¼šåˆ›å»ºè‡ªå·±çš„thisï¼ŒğŸ“ä»–åªä¼šä»è‡ªå·±çš„ <strong>ä½œç”¨åŸŸçš„ä¸Šä¸€å±‚ç»§æ‰¿this</strong>ã€‚</p></li> <li><p>ä¸ç»‘å®š arguments ï¼ˆå¦‚æœè¦ä½¿ç”¨ argumentå¯ä»¥ä½¿ç”¨ rest(è§£æ„)å‚æ•°æ¥ä»£æ›¿ ï¼‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: arguments is not defined</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>ç®­å¤´å‡½æ•° ä¸é€‚ç”¨çš„ åœºæ™¯</p> <ul><li><p>ä½œä¸ºå¯¹è±¡çš„å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>æ„é€ å‡½æ•°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Uncaught TypeError: Person is not a constructor</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>ä½œä¸ºåŸå‹æ–¹æ³•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// æŒ‡å‘å®ä¾‹</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// æŒ‡å‘ window</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'lala'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'lala' };</span>
p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
</code></pre></div></li> <li><p>éœ€è¦åŠ¨æ€ this çš„æ—¶å€™</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window âš ï¸ è¿™é‡Œå°±æ˜¯çœ‹éœ€æ±‚äº†</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// #documentå¯¹è±¡</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <h4 id="å»¶ä¼¸"><a href="#å»¶ä¼¸" class="header-anchor">#</a> å»¶ä¼¸</h4> <ul><li><p>å‡½æ•°ä¸‹çš„ <code>prototype &amp; __proto__</code> æ–¹æ³•è°ƒç”¨</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
User<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>

<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
User<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// è¿™ä¸ªæ˜¯ å‡½æ•° ç‹¬æœ‰çš„æ–¹æ³•</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
User<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 456 å‡½æ•°ç›´æ¥è°ƒç”¨(ä½œä¸ºå¯¹è±¡)çš„æ—¶å€™ ä½¿ç”¨çš„æ˜¯ __proto__</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123  å› ä¸º gl.__proto__ === User.prototype </span>
</code></pre></div></li> <li><p>åŠ æ·±è®°å¿†</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// new Object();</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// new Array()</span>
arr<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// new String()</span>
str<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span>  <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span> <span class="token comment">// new RegExp()</span>
reg<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// new Function()</span>
User<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token operator">...</span> <span class="token comment">// å› ä¸º... ä¸‡ç‰©çš†å¯¹è±¡ ...</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26cac436.js" defer></script><script src="/assets/js/2.2df5d1b6.js" defer></script><script src="/assets/js/21.c42beae1.js" defer></script>
  </body>
</html>
