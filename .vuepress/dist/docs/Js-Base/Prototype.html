<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Js - 原型与继承</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.26cac436.js" as="script"><link rel="preload" href="/assets/js/2.2df5d1b6.js" as="script"><link rel="preload" href="/assets/js/21.c42beae1.js" as="script"><link rel="prefetch" href="/assets/js/10.eaa1d4ec.js"><link rel="prefetch" href="/assets/js/11.6f95e229.js"><link rel="prefetch" href="/assets/js/12.30eddc72.js"><link rel="prefetch" href="/assets/js/13.4fdf441e.js"><link rel="prefetch" href="/assets/js/14.ac967237.js"><link rel="prefetch" href="/assets/js/15.ab0fe770.js"><link rel="prefetch" href="/assets/js/16.e9253bb0.js"><link rel="prefetch" href="/assets/js/17.2f2df1b1.js"><link rel="prefetch" href="/assets/js/18.cbb9c819.js"><link rel="prefetch" href="/assets/js/19.bc4d3a36.js"><link rel="prefetch" href="/assets/js/20.4bd18993.js"><link rel="prefetch" href="/assets/js/22.7f7759e8.js"><link rel="prefetch" href="/assets/js/23.324c37a3.js"><link rel="prefetch" href="/assets/js/24.4adf62c6.js"><link rel="prefetch" href="/assets/js/25.6925a4e6.js"><link rel="prefetch" href="/assets/js/26.16c4556d.js"><link rel="prefetch" href="/assets/js/27.bb4f278a.js"><link rel="prefetch" href="/assets/js/28.22912d99.js"><link rel="prefetch" href="/assets/js/3.0ab2436a.js"><link rel="prefetch" href="/assets/js/4.2a5d96fc.js"><link rel="prefetch" href="/assets/js/5.fd255a4a.js"><link rel="prefetch" href="/assets/js/6.66b67ff0.js"><link rel="prefetch" href="/assets/js/7.7ecf7e0a.js"><link rel="prefetch" href="/assets/js/8.e8e291f9.js"><link rel="prefetch" href="/assets/js/9.e9131e05.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-原型与继承"><a href="#js-原型与继承" class="header-anchor">#</a> Js - 原型与继承</h1> <h2 id="对象的原型-父级"><a href="#对象的原型-父级" class="header-anchor">#</a> 对象的原型 （父级）</h2> <h4 id="创建一个没有原型的对象"><a href="#创建一个没有原型的对象" class="header-anchor">#</a> 创建一个没有原型的对象</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> gl <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl <span class="token comment">// {name: &quot;gl&quot;}</span>
</code></pre></div><ul><li><p><code>Object.create</code> 创建对象的<code>参数</code>以及<code>返回值</code>介绍</p> <ol><li><p>（params - 1）新创建对象的原型对象。</p></li> <li><p>（parmas - 2）<code>可选</code>  参数如下 和 <code>Object.defineProperty()</code> 一致</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  configurable<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> <span class="token comment">// true 表示描述符类型可修改 并 对应对象属性可删除</span>
  enumerable<span class="token operator">:</span>  <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> <span class="token comment">// true 表示可枚举   in 操作符可查到</span>
  value<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> <span class="token comment">// 可以是任何js有效值 属性关联的值</span>
  writable<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> <span class="token comment">// true 表示 对应对象属性的值可以被修改</span>
  get<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// getter函数 如果没有 getter 则为undefined。函数返回值将被用作属性的值。</span>
  ser<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// setter函数 如果没有 setter 则为undefined。函数将仅接受参数赋值给该属性的新值。</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>（return - value） 一个新对象，带着指定的原型对象和属性。(指定null 则没有原型)</p></li></ol></li> <li><p>我们每次 字面量 创建 对象的时候，相当于 <code>new Object()</code> 操作</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// true</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> b<span class="token punctuation">.</span>__proto__ <span class="token comment">// true</span>
因为他们的 <span class="token punctuation">[</span><span class="token punctuation">[</span>prototype<span class="token punctuation">]</span><span class="token punctuation">]</span> 都是 <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
b<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div></li></ul> <h4 id="对象-和-函数之间的区别-仅原型"><a href="#对象-和-函数之间的区别-仅原型" class="header-anchor">#</a> 对象 和 函数之间的区别 - 仅原型</h4> <ul><li><strong>对象只有 <code>__proto__</code>  ([[<code>prototype</code>]]) 没有 <code>prototype</code> , <code>prototype</code>是函数独有的</strong> 。</li></ul> <h4 id="自定义原型对象"><a href="#自定义原型对象" class="header-anchor">#</a> 自定义原型对象</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'parent'</span><span class="token punctuation">,</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent method: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true 原先是 true</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// p</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p <span class="token comment">// true</span>
p<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><h3 id="函数-对象-的原型"><a href="#函数-对象-的原型" class="header-anchor">#</a> 函数(对象)的原型</h3> <h4 id="proto-prototype"><a href="#proto-prototype" class="header-anchor">#</a> <code>__proto__</code> &amp;&amp; <code>prototype</code></h4> <ul><li><p><code>__proto__</code> (<code>[[prototype]]</code>) 是原型 <strong>函数最为对象使用的时候 调用的 <code>[[prototype]]</code></strong></p></li> <li><p><code>prototype</code> 是原型 <strong>函数作为函数使用的时候 调用的 <code>prototype</code></strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// User有两个父级</span>
<span class="token comment">// 一个 __proto__ 服务于函数对象(**服务于他自己**)的</span>
<span class="token comment">// 一个是服务于函数实例化的对象的 prototype </span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 因为 User.prototype 的父级是对象 所以在往上找就是 __proto__</span>
gl<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> User<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// true</span>
gl<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token comment">// true</span>
<span class="token comment">// __proto__ 向上不断查找的过程 就是整条原型链了。</span>
</code></pre></div></li></ul> <h4 id="constructor"><a href="#constructor" class="header-anchor">#</a> <code>constructor</code></h4> <ul><li><p><code>constructor</code> 构造器 是 函数原型上查找自己的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// User.prototype 有两个</span>
<span class="token comment">// 一个 __proto__ 来去找 原型链</span>
<span class="token comment">// 一个 constructor 来去找 自己</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 因为 gl 是 new 出来的实例 对象，所以只能使用 __proto__ 来查找</span>
gl<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> User <span class="token comment">// true</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> User <span class="token comment">// true</span>
gl<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor  <span class="token comment">// true</span>

<span class="token comment">// FIXME: 如果想要在原型上写多个方法属性 可能会想到 使用字面量的方式</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// 字面量之后 构造器指向就 丢失了</span>
  <span class="token comment">// 这样就相当于开辟了一块新空间 - 重新指向了 所以原来 prototype 里面的 constructor 就没有了</span>
  <span class="token comment">// 需要将 构造器指回去，保证有联系</span>
  constructor<span class="token operator">:</span> User<span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="原型链检测之-instanceof-一个构造函数的-prototype-是否是一个对象的长辈"><a href="#原型链检测之-instanceof-一个构造函数的-prototype-是否是一个对象的长辈" class="header-anchor">#</a> 原型链检测之 - <code>instanceof</code> （一个构造函数的 prototype 是否是一个对象的长辈）</h4> <ul><li><p><code>instanceof</code> 运算符用来判断 一个构造函数的prototype属性所指向的对象。是否存在另外一个要检测的对象的原型链上。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li></ul> <h4 id="isprototypeof-明确来检测-一个对象是否在另一个对象的原型链上"><a href="#isprototypeof-明确来检测-一个对象是否在另一个对象的原型链上" class="header-anchor">#</a> <code>isPrototypeOf</code> 明确来检测 一个对象是否在另一个对象的原型链上</h4> <ul><li><p><code>isPrototypeOf</code> 一个对象是否是一个对象的长辈</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 因为 b.__proto__ === Object.prototype</span>
b<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// true 或者理解为一个对象(b)是否是一个对象(a)的长辈</span>
</code></pre></div></li></ul> <h4 id="in-和-hasownproperty-的属性检测的差异"><a href="#in-和-hasownproperty-的属性检测的差异" class="header-anchor">#</a> <code>in</code> 和 <code>hasOwnProperty</code> 的属性检测的差异</h4> <ul><li><p><code>in</code> 会检测 原型链 中一切可枚举的属性。</p></li> <li><p><code>hasOwnProperty</code> 只会检测 自身属性。 （是否 挂载 在自身上）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token string">'baidu.com'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>web <span class="token operator">=</span> <span class="token string">'hdcms.com'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'web'</span> <span class="token keyword">in</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - 'in'会检测原型链</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name'</span> <span class="token keyword">in</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - 'in'会检测原型链</span>

<span class="token comment">// 如果某一时候 指向操作当前对象 不检测原型链 hasOwnProperty</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true // hasOwnProperty 只检查自己</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'web'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// FIXME: 使用工具自动生成 就会有这个 hasOwnProperty</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'key1'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'key2'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// key1 url - key2 url - key1 name - key1 web</span>
</code></pre></div></li></ul> <h4 id="使用-call-apply-借用原型链"><a href="#使用-call-apply-借用原型链" class="header-anchor">#</a> 使用 <code>call</code> &amp;&amp; <code>apply</code> 借用原型链</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">max</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sortArr <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sortArr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
content<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55;</span>

<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token punctuation">{</span>
  lessons<span class="token operator">:</span> <span class="token punctuation">{</span>
    js<span class="token operator">:</span> <span class="token number">87</span><span class="token punctuation">,</span>
    php<span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    node<span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span> <span class="token comment">// FIXME: 因为这里需要传递的参数数组</span>
<span class="token comment">// apply 传递进去之后 是按照一个一个分开处理的 还是单个参数 </span>
<span class="token comment">// 比如 apply(null, [1, 2, 3]) 但是进去看参数 还是 (data1 = 1, data2 = 2, data3 = 3)</span>

<span class="token comment">// 所以需要改成call 那么第一个参数就是传递进去的数组了~</span>
content<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 88</span>

<span class="token comment">// -----------------------------------------------------------------</span>
<span class="token comment">// 优化调用方法</span>
<span class="token keyword">const</span> gl <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55 因为需要传递多个参数 现成的数组 所以使用 apply 就可以了</span>

<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token punctuation">{</span>
  lessons<span class="token operator">:</span> <span class="token punctuation">{</span>
    js<span class="token operator">:</span> <span class="token number">87</span><span class="token punctuation">,</span>
    php<span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    node<span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 88</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这样传递进去的就是一整个数组 所以调用的时候 ⚠️注意一下就行</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 88 这样就可以了</span>
</code></pre></div><h4 id="伪数组借用数组方法"><a href="#伪数组借用数组方法" class="header-anchor">#</a> 伪数组借用数组方法</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token comment">/* &lt;button class=&quot;red&quot;&gt;我是红色&lt;/button&gt;
&lt;button&gt;我是默认&lt;/button&gt; */</span><span class="token punctuation">}</span>
filter <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>filter<span class="token punctuation">;</span>
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Array.prototype.filter</span>
  item<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token comment">// 我是红色</span>
</code></pre></div><h4 id="object-create和-proto"><a href="#object-create和-proto" class="header-anchor">#</a> <code>Object.create</code>和<code>__proto__</code></h4> <ul><li><code>Object.create</code>如上所述 <a href="/docs/Js-Base/prototype/#创建一个没有原型的对象">点我跳转🍓</a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> me <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 是可以做到深拷贝的 并且它的父级就是 person ⚠️</span>
me<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> person<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><ul><li><p>使用 setPrototypeOf 来替代 <code>__proto__</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span> <span class="token comment">// 获取 相当于 gl.__proto__</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> user<span class="token punctuation">)</span> <span class="token comment">// 设置 相当于 gl.__proto__ = user</span>
</code></pre></div></li></ul> <h2 id="proto-这里是个重点"><a href="#proto-这里是个重点" class="header-anchor">#</a> <strong><code>__proto__</code></strong> 这里是个重点</h2> <h2 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h2> <h3 id="继承是原型的继承-而不是改变构造函数的原型"><a href="#继承是原型的继承-而不是改变构造函数的原型" class="header-anchor">#</a> 继承是原型的继承 而不是改变构造函数的原型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 这样会造成 我往原型里面添加方法</span>
<span class="token comment">// 一个是 重复的会覆盖掉 </span>
<span class="token comment">// 另一个是 都是往 User.protptype 里面添加方法 指向已经改变了</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> User<span class="token punctuation">.</span>Prototype <span class="token comment">// ❌</span>

<span class="token comment">// ✅</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'show method'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// 方法一</span>

<span class="token comment">// 这里 User.prototype 就自动挂载在了 Admin.prototype 上了。</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// 方法二</span>
<span class="token comment">// 这样就 有顺序要求了 因为重新指向了 添加方法前后顺序就需要遵循了</span>
</code></pre></div><h3 id="继承对于-新增对象的影响"><a href="#继承对于-新增对象的影响" class="header-anchor">#</a> 继承对于 新增对象的影响</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里 a 指向的 原来 Admin.prototype</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">//这里重新指向了 但是 a.__proto__ 还是指向原来的  所以最好还是 方法一 去实现 函数的继承或者 class</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">role</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Admin role method'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">role</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 哪怕是在这里执行也是会报错的~</span>
<span class="token comment">// 所以就会报错了</span>
</code></pre></div><h3 id="继承对于-constructor-的影响"><a href="#继承对于-constructor-的影响" class="header-anchor">#</a> 继承对于 <code>constructor</code> 的影响</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">Hd</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Hd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true -- Hd.prototype.constructor === Hd</span>

<span class="token comment">// 都是重新赋值的 指向丢失 开辟新空间</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// 这样定义之后就把 constructor 就丢失了</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Admin <span class="token comment">// 需要手动指向一下</span>
</code></pre></div><ul><li><p>禁止 <code>constructor</code> 被遍历  ⬆️ 接着上面的说</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// 发现 enumerable 为true</span>
<span class="token comment">// for... in  是可以遍历到的</span>
<span class="token comment">// 所以我们定义的时候需要 这样定义</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'constructor'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> Admin<span class="token punctuation">,</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁止被遍历</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="方法重写-与-父级属性访问"><a href="#方法重写-与-父级属性访问" class="header-anchor">#</a> 方法重写 与 父级属性访问</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'user.name'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">site</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'郭霖'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Admin<span class="token punctuation">;</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果不想用父级show 那么就自定义 然后就近原则</span>
  <span class="token comment">// User.prototype. ... 就可以访问到父级属性</span>
  <span class="token comment">// ⚠️ 是可以重新写 也可以使用 父级方法或者属性的 帮助重写新的方法</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">site</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'admin show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="面向对象的多态"><a href="#面向对象的多态" class="header-anchor">#</a> 面向对象的多态</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> obj <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Member</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这样就各自调用各自的原型 上的show方法</span>
  
  <span class="token comment">// 如果没有多态 那就是 showAdmin() showMember()...这样实现了</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Admin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> obj<span class="token punctuation">.</span><span class="token function">showAdmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="for-of"><a href="#for-of" class="header-anchor">#</a> <code>for...of</code></h4> <ul><li><p><code>for...of</code> 允许你遍历 Arrays（数组）, Strings（字符串）, Maps（映射）, Sets（集合）等可迭代的数据结构</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> iterable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'mini'</span><span class="token punctuation">,</span> <span class="token string">'mani'</span><span class="token punctuation">,</span> <span class="token string">'mo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// for...of  --- 'mini', 'mani', 'mo'</span>

<span class="token keyword">const</span> iterable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> iterable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Key: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and Value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Key: one and Value: 1 Key: two and Value: 2</span>
<span class="token operator">...</span>
</code></pre></div></li></ul> <h3 id="使用父类构造函数-初始化-属性"><a href="#使用父类构造函数-初始化-属性" class="header-anchor">#</a> 使用父类构造函数 初始化 属性</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 简单版本</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...args 小技巧 这里的结构其实是将 类数组转成数组了</span>
<span class="token comment">// 呃... 其实也不是 这里也是 为了收集多个参数</span>
<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">User</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'constructor'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> Admin<span class="token punctuation">,</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token string">'郭霖'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 郭霖 18</span>
</code></pre></div><h4 id="object-defineproperties-object-defineproperty"><a href="#object-defineproperties-object-defineproperty" class="header-anchor">#</a> Object.defineProperties &amp; Object.defineProperty</h4> <ul><li><p><code>Object.defineProperties</code> &amp; <code>Object.defineProperty</code> - 是多个 &amp; 一个 的关系</p> <p>与之对应的是 ----- 上下是对应的</p></li> <li><p><code>Object.getOwnPropertyDescriptor</code> &amp; <code>Object. getOwnPropertyDescriptors</code> - 是返回多个 &amp; 返回一个的关系</p></li></ul> <h3 id="使用工厂函数-封装继承"><a href="#使用工厂函数-封装继承" class="header-anchor">#</a> 使用工厂函数 封装继承</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">sub<span class="token punctuation">,</span> sup</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// sub-补充 替代 sup-超级 基类</span>
  sub<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>sup<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>sub<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'constructor'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> sub<span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">extend</span><span class="token punctuation">(</span>Admin<span class="token punctuation">,</span> User<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> gl1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token string">'郭霖'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 郭霖 18</span>
</code></pre></div><h3 id="对象工厂派生对象并实现继承"><a href="#对象工厂派生对象并实现继承" class="header-anchor">#</a> 对象工厂派生对象并实现继承...</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">admin</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// instance - 例子 建议的意思</span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">User</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token function">admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="互相之间没有关系的就不需要继承了-继承的话就继承一个就可以了"><a href="#互相之间没有关系的就不需要继承了-继承的话就继承一个就可以了" class="header-anchor">#</a> 互相之间没有关系的就不需要继承了 继承的话就继承一个就可以了</h4> <h3 id="使用-mixin-实现多继承-混合功能"><a href="#使用-mixin-实现多继承-混合功能" class="header-anchor">#</a> 使用 mixin 实现多继承 - 混合功能</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 把方法都修改为对象 方法只是对象的一个属性</span>
<span class="token comment">// 定义一些功能对象 用到的时候呢 把他们的属性合并到原型里面就可以了</span>
<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> Request<span class="token punctuation">,</span> Credit<span class="token punctuation">)</span>

<span class="token comment">// mixin的内部继承与super关键字</span>
<span class="token comment">// super // this.__proto__   super 是指我当前这个类的原型(父级) 原型链的 都可以拉下来</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> b<span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// super - this.__proto__  那就是 b.name</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// super 只用来攀升原型 不改变 this 🍓</span>

admin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// super 也是指向的当前类的原型 就是 a 不是admin</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'123'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bb <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// __proto__: b,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// super 不能单独打印 因为是关键字</span>
    <span class="token comment">// super.toString() 目前相当于使用 Object.toString()</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
bb<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="other"><a href="#other" class="header-anchor">#</a> Other</h4> <ul><li><p><code>new</code> 声明对象的时候 方法是放在 原型<code>prototype</code> 让其复用的</p> <p>如果给每个对象都配置这个方法  会造成 额外的内存开销</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token comment">// 属性是可以的 保存到各自的实例也是 独立的</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// ❌</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ✅ 定义在 父级 让其复用</span>
<span class="token comment">// 如果声明 多个方法 可以这样写</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token operator">:</span> User<span class="token punctuation">,</span> <span class="token comment">// ⚠️不要忘记 指向自身哦</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>this</code> 和 <code>原型</code> 是没有关系的</p></li> <li><p><strong>不要滥用原型</strong></p> <ul><li>不建议在 系统的原型 (Object.prototype)中去追加方法。这样不稳定.</li></ul></li></ul> <h4 id="this-箭头函数"><a href="#this-箭头函数" class="header-anchor">#</a> <code>this</code> ～ 箭头函数</h4> <ul><li><p>在箭头函数出现之前 🍓，每一个新函数根据它是被如何调用的来定义这个函数的this值</p> <ul><li>如果该函数是一个构造函数 this指针指向的是一个新对象</li> <li>在严格模式下函数的调用。this 指向 <code>undefined</code></li> <li>如果该函数是一个对象的方法， 则它的this指针指向这个对象</li></ul></li> <li><p>箭头函数 不会创建自己的this，🍓他只会从自己的 <strong>作用域的上一层继承this</strong>。</p></li> <li><p>不绑定 arguments （如果要使用 argument可以使用 rest(解构)参数来代替 ）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: arguments is not defined</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>箭头函数 不适用的 场景</p> <ul><li><p>作为对象的属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>构造函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Uncaught TypeError: Person is not a constructor</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>作为原型方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// 指向实例</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// 指向 window</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'lala'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'lala' };</span>
p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
</code></pre></div></li> <li><p>需要动态 this 的时候</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window ⚠️ 这里就是看需求了</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// #document对象</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <h4 id="延伸"><a href="#延伸" class="header-anchor">#</a> 延伸</h4> <ul><li><p>函数下的 <code>prototype &amp; __proto__</code> 方法调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
User<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>

<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
User<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 这个是 函数 独有的方法</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
User<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 456 函数直接调用(作为对象)的时候 使用的是 __proto__</span>
<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gl<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123  因为 gl.__proto__ === User.prototype </span>
</code></pre></div></li> <li><p>加深记忆</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// new Object();</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// new Array()</span>
arr<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// new String()</span>
str<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span>  <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span> <span class="token comment">// new RegExp()</span>
reg<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// new Function()</span>
User<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token operator">...</span> <span class="token comment">// 因为... 万物皆对象 ...</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26cac436.js" defer></script><script src="/assets/js/2.2df5d1b6.js" defer></script><script src="/assets/js/21.c42beae1.js" defer></script>
  </body>
</html>
